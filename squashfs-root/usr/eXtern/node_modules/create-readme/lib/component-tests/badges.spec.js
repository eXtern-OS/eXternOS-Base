// Generated by CoffeeScript 1.10.0
(function() {
  var BadgeParser;

  BadgeParser = require('../components/badges.coffee');

  describe("A BadgeParser", function() {
    var pkg;
    pkg = null;
    beforeEach(function() {
      pkg = require('../../package.json');
      return pkg.git = {
        user: "dbartholomae",
        repo: "readme-creator",
        branch: "master"
      };
    });
    it("should return an empty list if git is not set in pkg", function() {
      var badgeParser;
      pkg.git = null;
      badgeParser = new BadgeParser();
      return expect(badgeParser.run(pkg)).to.eventually.deep.equal([]);
    });
    return it("should create the badges it is asked for", function() {
      var badgeParser;
      badgeParser = new BadgeParser({
        badges: ['travis']
      });
      return expect(badgeParser.run(pkg)).to.eventually.deep.equal([
        {
          name: "build status",
          "img": "https://travis-ci.org/dbartholomae/readme-creator.svg",
          "url": "https://travis-ci.org/dbartholomae/readme-creator"
        }
      ]);
    });
  });

}).call(this);
